# 給与明細サイト

給与明細の作成と PDF 出力ができる Web アプリケーションです。

## 機能

- **給与明細の作成・編集**

  - 会社名、社員番号、従業員名の入力
  - 現在年月の自動設定（年は現在年 ±5 年の範囲で選択可能）
  - 労働日数・残業時間の設定

- **支給項目の管理**

  - 9 つの固定入力欄（基本給、通勤手当、住宅手当、残業手当、その他手当 1 ～ 5）
  - 初期表示では基本給～残業手当が表示、その他は編集可能
  - すべての項目名を自由に変更可能

- **控除項目の管理**

  - 9 つの固定入力欄（健康保険、厚生年金、雇用保険、所得税、住民税、その他控除 1 ～ 4）
  - 初期表示では健康保険～住民税が表示、その他は編集可能
  - すべての項目名を自由に変更可能

- **給与明細プレビュー**

  - 支給テーブル：4 行 5 列の構成で 9 項目を表示
  - 控除テーブル：4 行 5 列の構成で 9 項目を表示
  - 勤怠テーブル：2 行 5 列の構成
  - 差引支給額の自動計算
  - 均等な列幅でレイアウトが安定

- **PDF 出力機能**

  - html2canvas + jsPDF を使用
  - A4 サイズでの出力
  - 複数ページ対応
  - ファイル名の自動生成

- **その他の機能**
  - レスポンシブデザイン
  - Google Analytics 対応
  - TypeScript による型安全性

## 技術スタック

- **フレームワーク**: Next.js 15.5.3 (App Router)
- **言語**: TypeScript
- **スタイリング**: TailwindCSS
- **PDF 生成**: jsPDF + html2canvas
- **フォント**: Inter (Google Fonts)
- **分析**: Google Analytics (gtag.js)

## プロジェクト構成

```
salary-statement/
├── app/
│   ├── globals.css          # グローバルスタイル
│   ├── layout.tsx          # ルートレイアウト（Google Analytics含む）
│   └── page.tsx            # メインページ（給与明細作成）
├── public/
│   └── favicon.svg         # ファビコン
├── .vscode/
│   └── settings.json       # VS Code設定
├── next-env.d.ts           # Next.js型定義
├── next.config.js          # Next.js設定
├── tailwind.config.js      # TailwindCSS設定
├── postcss.config.js       # PostCSS設定
├── tsconfig.json           # TypeScript設定
├── package.json            # 依存関係
└── README.md               # このファイル
```

## セットアップ

### 前提条件

- Node.js 18.0 以上
- npm または yarn

### インストール

1. リポジトリをクローン

```bash
git clone <repository-url>
cd salary-statement
```

2. 依存関係をインストール

```bash
npm install
```

3. 開発サーバーを起動

```bash
npm run dev
```

4. ブラウザで `http://localhost:3000` を開く

## 使用方法

### 1. 基本情報の入力

- **会社名**: 給与明細に表示される会社名
- **社員番号**: 従業員の社員番号
- **従業員名**: 給与明細の対象者名
- **年・月**: 現在年月が自動設定（年は現在年 ±5 年の範囲で選択可能）

### 2. 労働期間の設定

- **労働日数**: 当月の出勤日数
- **残業時間**: 当月の残業時間

### 3. 支給項目の入力

**初期表示項目**:

- 基本給
- 通勤手当
- 住宅手当
- 残業手当

**その他手当**:

- その他手当 1 ～ 5（空欄で初期表示、自由に項目名を変更可能）

### 4. 控除項目の入力

**初期表示項目**:

- 健康保険
- 厚生年金
- 雇用保険
- 所得税
- 住民税

**その他控除**:

- その他控除 1 ～ 4（空欄で初期表示、自由に項目名を変更可能）

### 5. プレビューと PDF 出力

- **リアルタイムプレビュー**: 入力内容が即座に給与明細に反映
- **PDF 出力**: 「PDF でダウンロード」ボタンで PDF ファイルを生成・ダウンロード
- **ファイル名**: `給与明細_会社名_社員番号_氏名_年月.pdf` の形式で自動生成

## テーブル構成

### 支給テーブル（4 行 5 列）

- **1 行目**: 項目 1 ～ 5 の項目名
- **2 行目**: 項目 1 ～ 5 の金額
- **3 行目**: 項目 5、項目 6 ～ 8 の項目名、支給額合計
- **4 行目**: 項目 6 ～ 8 の金額、支給額合計の金額

### 控除テーブル（4 行 5 列）

- **1 行目**: 項目 1 ～ 5 の項目名
- **2 行目**: 項目 1 ～ 5 の金額
- **3 行目**: 項目 6 ～ 8 の項目名、控除額合計
- **4 行目**: 項目 6 ～ 8 の金額、控除額合計の金額

### 勤怠テーブル（2 行 5 列）

- **1 行目**: 出勤日数、残業時間、空欄 ×2
- **2 行目**: 出勤日数、残業時間、空欄 ×2

## ビルドとデプロイ

### 本番ビルド

```bash
npm run build
```

### 本番サーバー起動

```bash
npm start
```

### Vercel でのデプロイ

```bash
npm install -g vercel
vercel
```

## 開発

### 利用可能なスクリプト

- `npm run dev`: 開発サーバー起動
- `npm run build`: 本番ビルド
- `npm run start`: 本番サーバー起動
- `npm run lint`: ESLint によるコードチェック
- `npm run lint:css`: Stylelint による CSS チェック

### 型定義

- TypeScript による完全な型安全性
- React コンポーネントの型定義
- イベントハンドラーの型注釈
- 状態管理の型安全性

## ライセンス

このプロジェクトは MIT ライセンスの下で公開されています。

## 貢献

プルリクエストやイシューの報告を歓迎します。

## 更新履歴

- **v0.1.0**: 初回リリース
  - 給与明細作成機能
  - PDF 出力機能
  - レスポンシブデザイン
  - Google Analytics 対応
  - 9 項目の固定入力欄（支給・控除）
  - 均等な列幅でのテーブル表示
  - 現在年月の自動設定
